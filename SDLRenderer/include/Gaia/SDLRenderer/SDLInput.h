#ifndef H__SFMLINPUT_020520111937__H
#define H__SFMLINPUT_020520111937__H

///////////////////////////////////////////////////////////////////////////////
// Headers
///////////////////////////////////////////////////////////////////////////////
#include "Gaia/SDLRenderer/SDLConfig.h"
#include "Gaia/BaseInput.h"
#include "Gaia/Event.h"

#include <SDL/SDL.h>

namespace gaia
{
///////////////////////////////////////////////////////////////////////////
/// \brief SDL implementation of input class.
///////////////////////////////////////////////////////////////////////////
class GAIA_SDL_DLL SDLInput: public gaia::BaseInput
{
public:
	///////////////////////////////////////////////////////////////////////////
	/// \brief Constructor.
	///
	/// \param ev: SDL event to convert.
	///////////////////////////////////////////////////////////////////////////
	SDLInput(const SDL_Event& ev);

	//@override
	///////////////////////////////////////////////////////////////////////////
	/// \brief Must be overriden in derived classes.
	/// 
	/// Should convert an external input into a corresponding GAIA's event.
	///////////////////////////////////////////////////////////////////////////
	void process();

protected:
	///////////////////////////////////////////////////////////////////////////
	/// \brief Converts a SDL mouse button into a GUI mouse button
	/// (mouse wheel excepted, even if it is considerer as a button for SDL).
	///
	/// \param b : SDL mouse button to convert.
	///
	/// \return The equivalent GUI MouseButton. 
	///////////////////////////////////////////////////////////////////////////
	MouseButton::Button getButton(Uint8 b);

	///////////////////////////////////////////////////////////////////////////
	/// \brief Converts a SDL virtual key into a GUI key.
	///
	/// \param key : SDL key to convert.
	///
	/// \return The equivalent GUI Keyboard::Code. 
	///////////////////////////////////////////////////////////////////////////
	Keyboard::Code getCode(SDLKey key);

protected:
	SDL_Event myEvent; ///< SFML event
};

} //end namespace

#endif
